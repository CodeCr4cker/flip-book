<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FlipBook - Coderstar</title>
  <style>
    body {
      background-color: black;
    }
    :root {
      --neon-yellow: #fcff00;
      --neon-shadow-yellow: 0 0 15px #fcff00, 0 0 30px #fcff00, 0 0 60px #fcff00;
    }
    .bookk, .bookk * {
      box-sizing: border-box;
    }
    .bookk {
      margin: 0;
      display: flex;
      min-height: 100dvh;
      perspective: 1000px;
      font-size: 0.6rem;
      overflow: hidden;
      color: #0ff;
      background-color: #0c0c0c;
      background-image: radial-gradient(circle at center, #0ff2, #000 70%);
    }
    .book {
      position: relative;
      display: flex;
      margin: auto;
      width: 38cqmin;
      height: 400px;
      pointer-events: none;
      transform-style: preserve-3d;
      transition: translate 1s;
      translate: calc(min(var(--c), 1) * 50%) 0%;
      rotate: 1 0 0 20deg;
    }
    .page {
      --thickness: 4;
      flex: none;
      display: flex;
      width: 100%;
      font-size: 0.6rem;
      pointer-events: all;
      user-select: none;
      transform-style: preserve-3d;
      transform-origin: left center;
      transition: transform 1s,
        rotate 1s ease-in calc((min(var(--i), var(--c)) - max(var(--i), var(--c))) * 50ms);
      translate: calc(var(--i) * -100%) 0px 0px;
      transform: translateZ(calc((var(--c) - var(--i) - 0.5) * calc(var(--thickness) * 0.23cqmin)));
      rotate: 0 1 0 calc(clamp(0, var(--c) - var(--i), 1) * -180deg);
      box-shadow: 0 0 1em #0ff4;
    }
    .front, .back {
      position: relative;
      flex: none;
      width: 100%;
      backface-visibility: hidden;
      overflow: hidden;
      background-color: #111;
      color: #0ff;
      border: 1px solid #0ff4;
      text-shadow: 0 0 5px #0ff, 0 0 10px #0ff6;
    }
    .back {
      translate: -100% 0;
      rotate: 0 1 0 180deg;
    }
    .cover {
      background: radial-gradient(circle at 80% 20%, #00f2 0%, #002 100%),
                  url("https://picsum.photos/id/984/800/900") center / cover no-repeat;
      color: #0ff;
      text-shadow: 0 0 10px #0ff;
      cursor: pointer;
    }
    .page {
      counter-reset: page -1;
    }
    .front, .back {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 2em;
    }
    .front:has(img), .back:has(img) {
      padding: 0;
    }
    .front img, .back img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .front::after, .back::after {
      position: absolute;
      bottom: 1em;
      font-size: 0.8em;
      opacity: 0.6;
      text-shadow: 0 0 5px #0ff;
      counter-increment: page;
      content: counter(page) ".";
    }
    .cover::after {
      content: "";
    }
    .front::after {
      right: 1em;
    }
    .back::after {
      left: 1em;
    }
    .neon-typing {
      color: var(--neon-yellow);
      text-shadow: var(--neon-shadow-yellow);
    }
    
    .page-content {
      opacity: 0;
      transform: translateY(-20px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    
    .page-content.animate-in {
      opacity: 1;
      transform: translateY(0);
    }
    .front {
      background: linear-gradient(to left, #111, #222);
      border-radius: 0.1em 0.5em 0.5em 0.1em;
    }
    .back {
      background: linear-gradient(to right, #111, #222);
      border-radius: 0.5em 0.1em 0.1em 0.5em;
    }
    .front h1, .front h2, .back h1, .back h2 {
      margin-bottom: 0.05em;
    }
    .front p, .back p {
      margin-top: 0.01em;
    }
    @media (max-width: 768px) {
      .book {
        height: 300px;
        width: 200px;
        rotate: 1 0 0 15deg;
      }
      .page{
        font-size: 0.5rem;
      }
      .front, .back {
        padding: 1em;
      }
      .front::after, .back::after {
        font-size: 0.9em;
      }
    }
  </style>
</head>
<body>
  <div class="bookk">
    <div class="book">
      <div class="page">
        <div class="front cover">
          <h1>About me</h1>
          <p>2025.<br />Divyanshu Pandey</p>
        </div>
        <div class="back">
          <h2>index</h2>
          <p>my introduction</p>
          <p>Why I Code üíª</p>
          <p>What I Know üß†</p>
          <p>My Vision üöÄ</p>
          <p>Let's Connect! ü§ù</p>
          <p>Learning Philosophy</p>
          <p>Thank You for Being Here üôè</p>
        </div>
      </div>

      <div class="page">
        <div class="front">
          <div class="page-content">
           
            <h2><span id="type1" class="neon-typing"></span></h2>
          </div>
        </div>
        <div class="back">
          <div class="page-content">
          <h2>my introduction</h2>
            <h2><span id="type2" class="neon-typing"></span></h2>
          </div>
        </div>
      </div>

      <div class="page">
        <div class="front">
          <div class="page-content">
            <h2>Why I Code üíª</h2>
            <h2><span id="type3" class="neon-typing"></span></h2>
          </div>
        </div>
        <div class="back">
          <div class="page-content">
            <h2>What I Know üß†</h2>
            <h2><span id="type4" class="neon-typing"></span></h2>
          </div>
        </div>
      </div>

      <div class="page">
        <div class="front">
          <div class="page-content">
            <h2>My Vision üöÄ</h2>
            <h2><span id="type5" class="neon-typing"></span></h2>
          </div>
        </div>
        <div class="back">
          <div class="page-content">
            <h2>Let's Connect! ü§ù</h2>
            <h2><span id="type6" class="neon-typing"></span></h2>
          </div>
        </div>
      </div>

      <div class="page">
        <div class="front">
          <div class="page-content">
            <h2>Learning Philosophy</h2>
            <h2><span id="type7" class="neon-typing"></span></h2>
          </div>
        </div>
        <div class="back">
          <div class="page-content">
            <h2>Thank You for Being Here üôè</h2>
            <h2><span id="type8" class="neon-typing"></span></h2>
          </div>
        </div>
      </div>

      <div class="page">
        <div class="front">
          <img src="https://picsum.photos/id/1073/600/600" alt="Img 2" />
        </div>
        <div class="back cover"></div>
      </div>
    </div>
  </div>

  <script>
    let globalClicked = false;
    
    const flipBook = (elBook) => {
      elBook.style.setProperty("--c", 0);
      const pages = elBook.querySelectorAll(".page");
      pages.forEach((page, idx) => page.style.setProperty("--i", idx));

      const coverPage = pages[0];
      
      const handleCoverClick = () => {
        if (globalClicked) return;
        globalClicked = true;
        elBook.style.setProperty("--c", 1);
        setTimeout(() => startTypingSequence(), 1000);
      };
      
      coverPage.addEventListener("click", handleCoverClick);
      
      // Function to reset the book
      window.resetBook = () => {
        globalClicked = false;
        elBook.style.setProperty("--c", 0);
        
        // Clear all typed content
        document.querySelectorAll('.neon-typing').forEach(el => {
          el.innerHTML = '';
        });
        
        // Reset all page content animations
        document.querySelectorAll('.page-content').forEach(content => {
          content.classList.remove('animate-in');
        });
        
        console.log("Book reset completed");
      };
    };

    const typingPages = [
      {
        front: "#type1",
        back: "#type2",
        frontText: ` Jay Shree Ram`,
        backText: ` I‚Äôm a 12th standard student who‚Äôs deeply passionate about coding and creativity.
          My journey in tech started with curiosity and grew into a strong desire to build, solve, and innovate. 
          I love spending time exploring new web technologies and turning ideas into interactive digital experiences. `
      },
      {
        front: "#type3",
        back: "#type4",
        frontText: ` For me, coding is not just about writing lines of code‚Äîit's about building a bridge between imagination and reality. 
          Whether it‚Äôs a portfolio website, a flipbook animation, or a full-fledged chat app, I enjoy every part of the process‚Äîfrom designing UI to writing functional backend logic.`,
        backText: ` I have hands-on experience in HTML, CSS, JavaScript, Firebase, and responsive UI design. 
          I‚Äôve built projects that include animated portfolios, flipbook-style interfaces, chat apps with real-time features, and creative tools that reflect my interest in design and interactivity.`
      },
      {
        front: "#type5",
        back: "#type6",
        frontText: ` My goal is to become a full-stack developer and explore fields like cybersecurity, artificial intelligence, and ethical hacking. 
          I believe technology can change the world‚Äîand I want to be part of that change. I constantly challenge myself to learn more, build better, and keep growing.`,
        backText: `I love collaborating with other developers, learning from others, and contributing to fun, meaningful projects.
          If you're someone who shares a love for tech, design, or innovation, let‚Äôs connect and build something amazing together!`
      },
      {
        front: "#type7",
        back: "#type8",
        frontText: `I believe in learning by doing. I don't wait for the perfect time or course‚ÄîI dive into projects, break things, fix them, and learn along the way.`,
        backText: `Your time means a lot to me. Feel free to explore my projects, drop a message, or give feedback. 
          Every interaction helps me improve and grow.`
      }
    ];

    const elBook = document.querySelector(".book");
    flipBook(elBook);

    function typeText(el, text, callback) {
      let i = 0;
      el.innerHTML = "";
      function typeChar() {
        if (i < text.length) {
          el.innerHTML += text[i++];
          setTimeout(typeChar, 30);
        } else {
          callback && callback();
        }
      }
      typeChar();
    }

    function startTypingSequence() {
      let currentPage = 0;
      
      function processPage() {
        if (currentPage >= typingPages.length) return;
        
        const { front, back, frontText, backText } = typingPages[currentPage];
        const frontEl = document.querySelector(front);
        const backEl = document.querySelector(back);
        
        // Get the page content containers
        const frontContent = frontEl.closest('.front').querySelector('.page-content');
        const backContent = backEl.closest('.back').querySelector('.page-content');
        
        // Animate front page content in from top
        setTimeout(() => {
          frontContent.classList.add('animate-in');
          
          // Start typing after animation
          setTimeout(() => {
            typeText(frontEl, frontText, () => {
              setTimeout(() => {
                // Move to next page to show back
                elBook.style.setProperty("--c", currentPage + 2);
                
                setTimeout(() => {
                  // Animate back page content in from top
                  backContent.classList.add('animate-in');
                  
                  // Start typing after animation
                  setTimeout(() => {
                    typeText(backEl, backText, () => {
                      setTimeout(() => {
                        currentPage++;
                        if (currentPage < typingPages.length) {
                          // Move to next page
                          elBook.style.setProperty("--c", currentPage + 1);
                          setTimeout(processPage, 1000);
                        } else {
                          // Finished all pages, go to final page
                          elBook.style.setProperty("--c", 5);
                          
                          // Auto-close and reset the book after viewing final page
                          setTimeout(() => {
                            console.log("Starting book close sequence");
                            closeAndResetBook();
                          }, 3000);
                        }
                      }, 2000);
                    });
                  }, 300);
                }, 1000);
              }, 1000);
            });
          }, 300);
        }, 500);
      }
      
      processPage();
    }
    
    function closeAndResetBook() {
      // Close the book by going through pages in reverse
      let currentC = parseInt(elBook.style.getPropertyValue("--c")) || 5;
      console.log("Starting close from page:", currentC);
      
      function closePage() {
        if (currentC > 0) {
          currentC--;
          elBook.style.setProperty("--c", currentC);
          console.log("Closing to page:", currentC);
          setTimeout(closePage, 400);
        } else {
          // Book is fully closed, now reset everything
          console.log("Book fully closed, resetting...");
          setTimeout(() => {
            window.resetBook();
          }, 500);
        }
      }
      
      closePage();
    }
  </script>
</body>
</html>